# Casino App

オンラインでカジノゲーム（ブラックジャック、ポーカー、スロットなど）が楽しめるWebアプリです。  
Supabaseでデータベース・認証を管理し、Vercelで本番運用しています。

---

## 🚀 本番環境URL

[https://casino-beta-pearl.vercel.app/](https://casino-beta-pearl.vercel.app/)

---

## 🎮 ゲーム一覧

- **ブラックジャック** - クラシックなカードゲーム
- **ポーカー** - 5カードポーカー
- **テキサスホールデム** - 本格的なポーカーゲーム
- **バカラ** - シンプルで奥深いカードゲーム
- **スロット** - マイジャグラー風のスロットマシン
- **高オッズスロット** - Cash Express風の高額ベット専用スロット
- **ルーレット** - ヨーロピアンルーレット
- **ハイステークスブラックジャック** - 高額ベット版
- **ブリッジ** - Coming Soon

---

## ✨ 主な機能

- 🔐 Google認証・メール認証によるログイン
- 💰 仮想コインによる資産管理
- 🏆 ユーザーランキング機能
- 📊 ゲーム履歴の記録
- 📱 レスポンシブデザイン（モバイル対応）
- 🎯 リアルタイムな残高更新

---

## 🛠 技術スタック

- **フロントエンド**: React 18 + Vite
- **バックエンド**: Supabase (PostgreSQL + Auth)
- **デプロイ**: Vercel
- **UI**: Tailwind CSS + Shadcn/UI
- **認証**: Supabase Auth (Google OAuth + Email)

---

## 🎰 スロットゲーム仕様

### 通常スロット（マイジャグラー風）
- 🍒 チェリー（高確率）
- 🍋 レモン（高確率）
- 🍊 オレンジ（中確率）
- 🍇 ブドウ（中確率）
- 🔔 ベル（低確率）
- ⭐ スター（超低確率）
- 💎 ダイヤ（激レア）
- 7️⃣ ラッキーセブン（超激レア）

**ペイアウト**: 7️⃣ 3つ揃いで77倍、その他2-20倍

### 高オッズスロット（Cash Express風）
5リール構成の高額ベット専用スロット：

#### シンボルと価値
- 💸 キャッシュ（超高価値・100倍）
- 💎 ダイヤモンド（高価値・50倍）
- 👑 クラウン（高価値・30倍）
- 🏆 トロフィー（中高価値・20倍）
- ⭐ ゴールドスター（中価値・15倍）
- 🎰 ラッキー7（中価値・10倍）
- 🔔 ゴールドベル（中価値・8倍）
- 🍀 ラッキークローバー（低価値・5倍）

#### 特別機能
- **5リール×5ペイライン**: 複数の勝利パターン
- **フリースピン**: ボーナスシンボル3個以上で10回
- **ボーナスラウンド**: 高額配当のチャンス
- **ベット額**: 500-5000コイン（通常スロットの50倍）
- **最大配当**: 5連続で最大5000倍

### ハイステークスブラックジャック
高額ベット専用のブラックジャック：

#### 特別機能
- **ベット額**: 5,000-80,000コイン（通常の50-800倍）
- **基本ルール**: 標準ブラックジャックと同じ
- **配当**: 勝利時2倍、ブラックジャック時2.5倍
- **対象**: 超高額ベットを楽しむVIPプレイヤー向け

---
## 🔧 開発者向けセットアップ

### 前提条件
- Node.js 18+
- npm または pnpm

### インストール手順

1. リポジトリをクローン
```bash
git clone <repository-url>
cd casino-app
```

2. 依存パッケージをインストール
```bash
npm install
# または
pnpm install
```

3. 環境変数を設定
```bash
cp .env.example .env.local
```

`.env.local` に以下を設定：
```bash
VITE_SUPABASE_URL=your-supabase-url
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key
```

4. 開発サーバーを起動
```bash
npm run dev
# または
pnpm dev
```

### Supabaseセットアップ

1. [Supabase](https://supabase.com)でプロジェクトを作成
2. `database-schema.sql` を実行してテーブルを作成
3. Authentication → Providers でGoogle認証を有効化（オプション）
4. RLSポリシーでランキング機能を有効化

---

## 🔒 セキュリティ

- Row Level Security (RLS) によるデータ保護
- 認証必須のゲームプレイ
- クライアントサイドでの入力検証
- セッション管理によるセキュアな認証

---

## ⚠️ 注意事項

- 本アプリは**仮想コインのみ**を使用し、実際のお金のやり取りはありません
- ギャンブル依存症にご注意ください
- 18歳未満の方はご利用をお控えください
- Google認証がうまくいかない場合は、メールアドレス認証をお試しください

---

## � 開発状況

**🎉 完了済み**:
- ✅ カード重複バグ修正（全ゲーム）
- ✅ Google認証導入
- ✅ 資産ランキングのRLS修正
- ✅ スロットゲームのバランス調整（マイジャグラー風）
- ✅ 高オッズスロット新規実装（Cash Express風）
- ✅ 勝利判定ロジック修正
- ✅ JSX構造エラー修正
- ✅ ビルドエラー解消
- ✅ 高オッズスロットのルーティング修正
- ✅ ゲーム履歴記録エラー修正（bet_amount null制約違反）

**✨ 最新の機能**:
- 高オッズスロット：5リール、複数ペイライン、高額ベット専用
- 勝利判定：左から連続一致のみで勝利（より厳格なルール）

---

## �📄 ライセンス

このプロジェクトはMITライセンスです。

---

## 🤝 コントリビューション

バグ報告や機能要望はIssueでお知らせください。  
プルリクエストも歓迎します！

---

**楽しいカジノゲームライフを！** 🎲✨

## 開発・運用技術

- フロントエンド: React + Vite
- バックエンド: Supabase (PostgreSQL, Auth)
- デプロイ: Vercel

---

## セットアップ方法（開発者向け）

1. このリポジトリをクローン
2. `.env.local` ファイルを作成し、SupabaseのURLとAnon Keyを設定
3. 必要に応じてGoogle OAuthの設定も追加
4. 依存パッケージをインストール

```bash
npm install
```

5. 開発サーバーを起動

```bash
npm run dev
```

---

## 注意事項

- 本アプリは仮想コインのみを使用し、実際のお金のやり取りはありません。
- Google認証を利用する場合は、Google Cloud ConsoleでOAuth設定が必要です。
- メール認証がうまくいかない場合は、Googleアカウントでの登録を推奨しています。

---

## 📄 ライセンス

このプロジェクトはMITライセンスです。

---
